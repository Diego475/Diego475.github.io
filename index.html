<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’• InvitaciÃ³n Especial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
            position: relative;
        }

        
        .heart-bg {
            position: absolute;
            font-size: 30px;
            opacity: 0.1;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-50px) rotate(10deg); }
        }

        .container {
            background: white;
            padding: 40px 30px;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            position: relative;
            z-index: 10;
            min-height: 500px;
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
                width: 95%;
                min-height: 450px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .question {
                font-size: 18px;
            }
            
            .emoji {
                font-size: 60px;
            }
        }

        .emoji {
            font-size: 80px;
            margin-bottom: 20px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        h1 {
            color: #e74c3c;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .question {
            font-size: 20px;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .buttons-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            position: relative;
            min-height: 100px;
            padding: 20px;
        }

        button {
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        @media (max-width: 480px) {
            button {
                padding: 18px 35px;
                font-size: 16px;
                min-width: 120px;
            }
        }

        .btn-si {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            position: relative;
            z-index: 5;
        }

        .btn-si:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
        }

        .btn-no {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #666;
            position: relative;
            transition: all 0.15s ease;
            z-index: 1;
        }

        .message-final {
            display: none;
            animation: aparecer 0.5s ease;
        }

        @keyframes aparecer {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .corazones {
            font-size: 100px;
            margin-bottom: 20px;
        }

        .mensaje-final-texto {
            font-size: 24px;
            color: #e74c3c;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .fecha {
            font-size: 32px;
            color: #333;
            font-weight: bold;
            margin-top: 20px;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            position: absolute;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    
    <div class="heart-bg" style="top: 10%; left: 10%;">â¤ï¸</div>
    <div class="heart-bg" style="top: 20%; right: 15%;">ğŸ’•</div>
    <div class="heart-bg" style="bottom: 15%; left: 20%;">ğŸ’–</div>
    <div class="heart-bg" style="bottom: 25%; right: 10%;">ğŸ’—</div>

    <div class="container" id="pregunta" style="display:block;">

        <div class="emoji">ğŸ’</div>
        <h1>Una pregunta especial...</h1>
        <p class="question">
            Â¿Quieres pasar el San ValentÃ­n conmigo?
        </p>
        <div class="buttons-container">
            <button class="btn-si" onclick="respuestaSi()">Â¡SÃ! ğŸ’•</button>
            <button class="btn-no" id="btnNo">No ğŸ˜¢</button>
        </div>
    </div>
    <div class="container message-final" id="mensajeFinal" style="display:none;">
        <div class="corazones">ğŸ’•ğŸ’–ğŸ’—</div>
        <p class="mensaje-final-texto">Â¡SabÃ­a que dirÃ­as que sÃ­!</p>
        <p class="question">Nos vemos el</p>
        <p class="fecha">14 de Febrero ğŸ’•</p>
        <div class="emoji" style="margin-top: 20px;">ğŸ¥°</div>
    </div>

    <script>
        let intentos = 0;
        let botonMovido = false;
        
        
        const esMobil = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        function hayColision(rect1, rect2, margenSeguridad = 20) {
            return !(rect1.right + margenSeguridad < rect2.left || 
                    rect1.left - margenSeguridad > rect2.right || 
                    rect1.bottom + margenSeguridad < rect2.top || 
                    rect1.top - margenSeguridad > rect2.bottom);}
        
        function moverBotonNo(evento) {
            
            if (evento) {
                evento.preventDefault();
            }
            
            const btnNo = document.getElementById('btnNo');
            const btnSi = document.querySelector('.btn-si');
            const container = document.querySelector('.container');
            
            
            if (!botonMovido) {
                btnNo.style.position = 'absolute';
                btnNo.style.zIndex = '10';
                botonMovido = true;
            }
            
            intentos++;
            
            
            const containerRect = container.getBoundingClientRect();
            const btnSiRect = btnSi.getBoundingClientRect();
            const btnNoRect = btnNo.getBoundingClientRect();
            
            
            const margen = esMobil ? 30 : 20;
            const margenSeguridad = esMobil ? 80 : 60; 
            
            let newX, newY;
            let intentosMax = 50; 
            let posicionValida = false;
            
            while (!posicionValida && intentosMax > 0) {
                
                const maxX = containerRect.width - btnNoRect.width - (margen * 2);
                const maxY = containerRect.height - btnNoRect.height - (margen * 2);
                
                newX = Math.random() * maxX + margen;
                newY = Math.random() * maxY + margen;
                
                
                const tempRect = {
                    left: containerRect.left + newX,
                    right: containerRect.left + newX + btnNoRect.width,
                    top: containerRect.top + newY,
                    bottom: containerRect.top + newY + btnNoRect.height
                };
                
                
                if (!hayColision(tempRect, btnSiRect, margenSeguridad)) {
                    posicionValida = true;
                } else {
                    intentosMax--;
                }
            }
            
            
            if (!posicionValida) {
                
                const siCentroY = btnSiRect.top + btnSiRect.height / 2 - containerRect.top;
                const siCentroX = btnSiRect.left + btnSiRect.width / 2 - containerRect.left;
                
                
                if (siCentroY < containerRect.height / 2) {
                    newY = containerRect.height - btnNoRect.height - margen;
                } else {
                    newY = margen;
                }
                
                
                if (siCentroX < containerRect.width / 2) {
                    newX = containerRect.width - btnNoRect.width - margen;
                } else {
                    newX = margen;
                }
            }
            
            
            if (intentos > 3) {
                btnNo.style.fontSize = esMobil ? '14px' : '14px';
                btnNo.style.padding = esMobil ? '15px 30px' : '10px 25px';
                btnNo.style.transition = 'all 0.08s ease';
            }
            
            if (intentos > 5) {
                btnNo.style.fontSize = esMobil ? '13px' : '12px';
                btnNo.style.padding = esMobil ? '13px 25px' : '8px 20px';
                btnNo.style.transition = 'all 0.06s ease';
            }
            
            if (intentos > 8) {
                btnNo.style.fontSize = esMobil ? '12px' : '11px';
                btnNo.style.padding = esMobil ? '11px 22px' : '7px 18px';
                btnNo.style.transition = 'all 0.04s ease';
            }
            
            
            btnNo.style.left = newX + 'px';
            btnNo.style.top = newY + 'px';
            
            
            const textos = [
                'No ğŸ˜¢',
                'Â¿Seguro? ğŸ¥º',
                'PiÃ©nsalo ğŸ’­',
                'Â¿De verdad? ğŸ˜­',
                'Vamos... ğŸ™',
                'Dale que sÃ­ ğŸ’–',
                'Por fa ğŸ¥¹',
                'Â¡Venga! ğŸ’•',
                'Â¡SÃ­ii! ğŸ˜Š',
                'Casi... ğŸ˜',
                'Â¡RÃ­ndete! ğŸ˜„',
                'Ya casi ğŸ¯'
            ];
            
            if (intentos < textos.length) {
                btnNo.textContent = textos[intentos];
            } else {
                btnNo.textContent = 'ğŸ’¨';
            }
        }
        
        
        window.addEventListener('DOMContentLoaded', function() {
            const btnNo = document.getElementById('btnNo');
            
            if (esMobil) {
                
                btnNo.addEventListener('touchstart', moverBotonNo, { passive: false });
                btnNo.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            } else {
                btnNo.addEventListener('mouseover', moverBotonNo);
                btnNo.addEventListener('click', moverBotonNo);
            }
        });
        
        function respuestaSi() {
            
            document.getElementById('pregunta').style.display = 'none';
            
            
            document.getElementById('mensajeFinal').style.display = 'block';
            
            
            crearConfetti();
        }
        
        function crearConfetti() {
            const colores = ['#f093fb', '#f5576c', '#4facfe', '#00f2fe', '#ffd89b', '#19547b'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colores[Math.floor(Math.random() * colores.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }
    </script>
</body>
</html>